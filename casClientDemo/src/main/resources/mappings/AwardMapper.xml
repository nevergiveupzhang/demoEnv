<?xml version="1.0" encoding="UTF-8" ?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="org.pms.dataService.dao.AwardDao">
   <select id="query" parameterType="java.util.Map" resultType="org.pms.dataService.content.Award">
      select * from award
      
     <trim prefix="WHERE" prefixOverrides="AND|OR">
       
        <if test="submitUserId != null">
           and submitUserId = #{submitUserId}
         </if>
         <if test="name != null  and name != ''">
           and name like CONCAT('%', #{name}, '%')
         </if>
         <if test="finishedPerson != null  and finishedPerson != ''">
           and finishedPerson like CONCAT('%', #{finishedPerson}, '%')
         </if>
          <if test="projectName != null  and projectName != ''">
           and projectName like CONCAT('%', #{projectName}, '%')
         </if>
         <if test="projectNameEq != null  and projectNameEq != ''">
           and projectName = #{projectNameEq}
         </if>
          <if test="awardLevel != null  and awardLevel != ''">
           and awardLevel =  #{awardLevel}
         </if>
          <if test="awardType != null  and awardType != ''">
           and awardType =  #{awardType}
         </if>
         <if test="teachAndResearchType != null  and teachAndResearchType != ''">
           and teachAndResearchType =  #{teachAndResearchType}
         </if>
         <if test="subjectType != null  and subjectType != ''">
           and subjectType =  #{subjectType}
         </if>
         <if test="startDate != null">
           and awardDate <![CDATA[ >= ]]>  #{startDate}
         </if>
         <if test="endDate != null">
           and awardDate <![CDATA[ <= ]]>  #{endDate}
         </if>
         <if test="id != null">
         	and id = #{id}
         </if>
         <if test="isDelete != null">
         	and isDelete = #{isDelete}
         </if>
         <if test="idList != null">
         	and id in 
         	<foreach collection="idList" item="awardId" separator="," open="(" close=")">
         	#{awardId}
         	</foreach>
         </if>
     </trim>
     order by createTime desc    
   </select>
</mapper>